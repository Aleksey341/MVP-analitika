<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ - –õ–∏–ø–µ—Ü–∫–∞—è –æ–±–ª–∞—Å—Ç—å</title>
  <link rel="stylesheet" href="/no-badge.css" />
  <style>
    :root {
      --bg-primary: #0f1115;
      --bg-secondary: #1a1d24;
      --bg-tertiary: #232a36;
      --border: #2b3444;
      --text-primary: #e8eef7;
      --text-secondary: #9fb0c9;
      --text-muted: #6a7789;
      --accent-blue: #2563eb;
      --success: #10b981;
      --danger: #ef4444;
      --warning: #f59e0b;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
    }

    header {
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--border);
      padding: 20px;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-content {
      max-width: 1600px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 16px;
    }

    h1 { margin: 0; font-size: 24px; }
    .subtitle { color: var(--text-secondary); font-size: 14px; margin: 4px 0 0 0; }

    main {
      max-width: 1600px;
      margin: 0 auto;
      padding: 24px;
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 24px;
    }

    @media (max-width: 1024px) {
      main {
        grid-template-columns: 1fr;
      }
    }

    .map-container {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      position: relative;
    }

    .map-svg {
      width: 100%;
      height: auto;
      max-height: 800px;
    }

    .region {
      fill: var(--bg-tertiary);
      stroke: var(--border);
      stroke-width: 2;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .region:hover {
      fill: var(--accent-blue);
      stroke: var(--accent-blue);
      stroke-width: 3;
      filter: brightness(1.2);
    }

    .region.active {
      fill: var(--success);
      stroke: var(--success);
      stroke-width: 3;
    }

    .region-label {
      font-size: 12px;
      fill: var(--text-primary);
      pointer-events: none;
      text-anchor: middle;
      font-weight: 600;
    }

    .city-label {
      font-size: 14px;
      font-weight: 700;
      fill: var(--text-primary);
      text-shadow: 0 0 4px rgba(0, 0, 0, 0.8);
    }

    .region.city {
      fill: var(--accent-blue);
      stroke: var(--text-primary);
      stroke-width: 3;
    }

    .region.city:hover {
      fill: var(--success);
    }

    .info-panel {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      position: sticky;
      top: 100px;
      max-height: calc(100vh - 120px);
      overflow-y: auto;
    }

    .info-panel h2 {
      margin: 0 0 16px 0;
      font-size: 20px;
      color: var(--text-primary);
    }

    .info-empty {
      text-align: center;
      color: var(--text-muted);
      padding: 40px 20px;
    }

    .info-empty-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .stat-card {
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 12px;
    }

    .stat-label {
      font-size: 12px;
      color: var(--text-secondary);
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    .stat-value {
      font-size: 28px;
      font-weight: 700;
      color: var(--text-primary);
    }

    .stat-change {
      font-size: 14px;
      font-weight: 600;
      margin-top: 4px;
    }

    .stat-change.positive { color: var(--success); }
    .stat-change.negative { color: var(--danger); }

    .legend {
      display: flex;
      gap: 16px;
      margin-top: 16px;
      padding: 12px;
      background: var(--bg-tertiary);
      border-radius: 8px;
      font-size: 13px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: 4px;
    }

    .btn {
      padding: 10px 20px;
      background: var(--accent-blue);
      border: none;
      border-radius: 8px;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
    }

    .btn:hover {
      background: #1d4ed8;
    }

    .loading {
      text-align: center;
      padding: 40px;
      color: var(--text-muted);
    }

    .tooltip {
      position: absolute;
      background: var(--bg-primary);
      border: 2px solid var(--accent-blue);
      border-radius: 8px;
      padding: 12px;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s;
      z-index: 1000;
      font-size: 13px;
      max-width: 200px;
    }

    .tooltip.show {
      opacity: 1;
    }

    .tooltip-title {
      font-weight: 700;
      margin-bottom: 8px;
      color: var(--text-primary);
    }

    .tooltip-stat {
      color: var(--text-secondary);
      margin: 4px 0;
    }
  </style>
</head>
<body>

<header>
  <div class="header-content">
    <div>
      <h1>üó∫Ô∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –õ–∏–ø–µ—Ü–∫–æ–π –æ–±–ª–∞—Å—Ç–∏</h1>
      <p class="subtitle">–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –º—É–Ω–∏—Ü–∏–ø–∞–ª–∏—Ç–µ—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö</p>
    </div>
    <a href="/dashboard" class="btn">‚Üê –ö –¥–∞—à–±–æ—Ä–¥—É</a>
  </div>
</header>

<main>
  <div class="map-container">
    <svg class="map-svg" viewBox="0 0 1000 800" id="map">
      <!-- –õ–∏–ø–µ—Ü–∫–∞—è –æ–±–ª–∞—Å—Ç—å - —Ä–µ–∞–ª—å–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –º—É–Ω–∏—Ü–∏–ø–∞–ª–∏—Ç–µ—Ç–æ–≤ -->

      <!-- –£—Å–º–∞–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (—Å–µ–≤–µ—Ä–æ-–∑–∞–ø–∞–¥) -->
      <path class="region" data-mun-id="17" data-mun-name="–£—Å–º–∞–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 50,150 L 150,120 L 220,140 L 250,200 L 200,280 L 120,300 L 80,250 Z" />

      <!-- –î–∞–Ω–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (—Å–µ–≤–µ—Ä) -->
      <path class="region" data-mun-id="4" data-mun-name="–î–∞–Ω–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 250,50 L 350,40 L 420,80 L 450,140 L 400,200 L 320,180 L 250,130 Z" />

      <!-- –õ–µ–±–µ–¥—è–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (—Å–µ–≤–µ—Ä–æ-—Ü–µ–Ω—Ç—Ä) -->
      <path class="region" data-mun-id="12" data-mun-name="–õ–µ–±–µ–¥—è–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 250,200 L 320,180 L 400,200 L 420,260 L 380,320 L 300,340 L 250,280 Z" />

      <!-- –õ–∏–ø–µ—Ü–∫–∏–π —Ä–∞–π–æ–Ω + –≥. –õ–∏–ø–µ—Ü–∫ (—Ü–µ–Ω—Ç—Ä) -->
      <path class="region" data-mun-id="14" data-mun-name="–õ–∏–ø–µ—Ü–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 300,340 L 380,320 L 450,360 L 480,420 L 440,500 L 360,520 L 300,480 Z" />

      <!-- –≥. –õ–∏–ø–µ—Ü–∫ (–≤ —Ü–µ–Ω—Ç—Ä–µ –õ–∏–ø–µ—Ü–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞) -->
      <circle class="region city" data-mun-id="1" data-mun-name="–≥. –õ–∏–ø–µ—Ü–∫"
        cx="400" cy="420" r="35" />

      <!-- –ì—Ä—è–∑–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (—Ü–µ–Ω—Ç—Ä-—é–≥) -->
      <path class="region" data-mun-id="3" data-mun-name="–ì—Ä—è–∑–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 300,480 L 360,520 L 380,580 L 320,640 L 250,620 L 220,560 Z" />

      <!-- –î–æ–±—Ä–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (–∑–∞–ø–∞–¥) -->
      <path class="region" data-mun-id="5" data-mun-name="–î–æ–±—Ä–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 120,300 L 200,280 L 250,340 L 220,420 L 180,500 L 100,480 L 60,400 Z" />

      <!-- –¢–µ—Ä–±—É–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (—Å–µ–≤–µ—Ä–æ-–≤–æ—Å—Ç–æ–∫) -->
      <path class="region" data-mun-id="16" data-mun-name="–¢–µ—Ä–±—É–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 450,140 L 550,120 L 620,160 L 640,220 L 580,280 L 480,260 Z" />

      <!-- –ó–∞–¥–æ–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (–≤–æ—Å—Ç–æ–∫-—Ü–µ–Ω—Ç—Ä) -->
      <path class="region" data-mun-id="9" data-mun-name="–ó–∞–¥–æ–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 480,260 L 580,280 L 620,340 L 600,420 L 540,480 L 480,420 Z" />

      <!-- –õ–µ–≤-–¢–æ–ª—Å—Ç–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (–≤–æ—Å—Ç–æ–∫) -->
      <path class="region" data-mun-id="13" data-mun-name="–õ–µ–≤-–¢–æ–ª—Å—Ç–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 640,220 L 720,180 L 800,220 L 820,300 L 760,360 L 680,340 L 620,280 Z" />

      <!-- –î–æ–±—Ä–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (–≤–æ—Å—Ç–æ–∫-—Ü–µ–Ω—Ç—Ä) -->
      <path class="region" data-mun-id="6" data-mun-name="–î–æ–±—Ä–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 620,340 L 680,340 L 760,360 L 780,440 L 720,520 L 640,500 L 600,420 Z" />

      <!-- –°—Ç–∞–Ω–æ–≤–ª—è–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (–∫—Ä–∞–π–Ω–∏–π –≤–æ—Å—Ç–æ–∫) -->
      <path class="region" data-mun-id="15" data-mun-name="–°—Ç–∞–Ω–æ–≤–ª—è–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 780,440 L 860,400 L 940,440 L 950,520 L 880,580 L 800,560 L 760,500 Z" />

      <!-- –•–ª–µ–≤–µ–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (—é–≥–æ-–≤–æ—Å—Ç–æ–∫) -->
      <path class="region" data-mun-id="18" data-mun-name="–•–ª–µ–≤–µ–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 540,480 L 640,500 L 680,560 L 660,640 L 580,680 L 500,660 L 480,600 Z" />

      <!-- –î–æ–ª–≥–æ—Ä—É–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (–≤–æ—Å—Ç–æ–∫-—é–≥) -->
      <path class="region" data-mun-id="7" data-mun-name="–î–æ–ª–≥–æ—Ä—É–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 680,560 L 760,500 L 840,540 L 860,620 L 800,680 L 720,700 L 660,640 Z" />

      <!-- –ï–ª–µ—Ü–∫–∏–π —Ä–∞–π–æ–Ω + –≥. –ï–ª–µ—Ü (—é–≥) -->
      <path class="region" data-mun-id="8" data-mun-name="–ï–ª–µ—Ü–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 480,600 L 580,680 L 600,740 L 540,780 L 460,760 L 400,720 L 380,660 Z" />

      <!-- –≥. –ï–ª–µ—Ü (–≤ —Ü–µ–Ω—Ç—Ä–µ –ï–ª–µ—Ü–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞) -->
      <circle class="region city" data-mun-id="2" data-mun-name="–≥. –ï–ª–µ—Ü"
        cx="500" cy="700" r="35" />

      <!-- –ò–∑–º–∞–ª–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (–∫—Ä–∞–π–Ω–∏–π —é–≥–æ-–≤–æ—Å—Ç–æ–∫) -->
      <path class="region" data-mun-id="10" data-mun-name="–ò–∑–º–∞–ª–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 660,640 L 720,700 L 760,760 L 700,800 L 620,780 L 600,740 Z" />

      <!-- –ö—Ä–∞—Å–Ω–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (—é–≥–æ-–∑–∞–ø–∞–¥) -->
      <path class="region" data-mun-id="11" data-mun-name="–ö—Ä–∞—Å–Ω–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 250,620 L 320,640 L 380,680 L 360,740 L 280,780 L 200,760 L 180,700 Z" />

      <!-- –í–æ–ª–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (–∫—Ä–∞–π–Ω–∏–π —é–≥–æ-–∑–∞–ø–∞–¥) -->
      <path class="region" data-mun-id="19" data-mun-name="–í–æ–ª–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 180,700 L 200,760 L 180,800 L 100,800 L 50,760 L 80,700 L 120,680 Z" />

      <!-- –ß–∞–ø–ª—ã–≥–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (–∫—Ä–∞–π–Ω–∏–π —Å–µ–≤–µ—Ä) -->
      <path class="region" data-mun-id="20" data-mun-name="–ß–∞–ø–ª—ã–≥–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
        d="M 350,40 L 450,20 L 550,50 L 550,120 L 480,140 L 400,120 Z" />

      <!-- –ü–æ–¥–ø–∏—Å–∏ –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤ -->
      <text x="400" y="385" class="region-label city-label">–õ–∏–ø–µ—Ü–∫</text>
      <text x="500" y="665" class="region-label city-label">–ï–ª–µ—Ü</text>
    </svg>

    <div class="legend">
      <div class="legend-item">
        <div class="legend-color" style="background: var(--bg-tertiary)"></div>
        <span>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: var(--success)"></div>
        <span>–ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –î–¢–ü</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: var(--warning)"></div>
        <span>–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: var(--danger)"></div>
        <span>–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å</span>
      </div>
    </div>
  </div>

  <div class="info-panel" id="info-panel">
    <div class="info-empty">
      <div class="info-empty-icon">üó∫Ô∏è</div>
      <p>–í—ã–±–µ—Ä–∏—Ç–µ –º—É–Ω–∏—Ü–∏–ø–∞–ª–∏—Ç–µ—Ç –Ω–∞ –∫–∞—Ä—Ç–µ<br>–¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</p>
    </div>
  </div>
</main>

<div class="tooltip" id="tooltip">
  <div class="tooltip-title"></div>
  <div class="tooltip-stat"></div>
</div>

<script>
// ========================================
// INIT MAP EVENTS
// ========================================

function initMap() {
  const regions = document.querySelectorAll('.region');

  regions.forEach(region => {
    const munId = parseInt(region.dataset.munId);
    const munName = region.dataset.munName;

    region.addEventListener('click', () => selectMunicipality(munId, munName));
    region.addEventListener('mouseenter', (e) => showTooltip(e, { id: munId, name: munName }));
    region.addEventListener('mouseleave', hideTooltip);
  });
}

// ========================================
// TOOLTIP
// ========================================

const tooltip = document.getElementById('tooltip');

function showTooltip(event, mun) {
  tooltip.querySelector('.tooltip-title').textContent = mun.name;
  tooltip.querySelector('.tooltip-stat').textContent = '–ö–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö';

  tooltip.style.left = event.pageX + 15 + 'px';
  tooltip.style.top = event.pageY + 15 + 'px';
  tooltip.classList.add('show');
}

function hideTooltip() {
  tooltip.classList.remove('show');
}

// ========================================
// SELECT MUNICIPALITY
// ========================================

let currentMunId = null;

async function selectMunicipality(munId, munName) {
  // –£–±–∏—Ä–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –≤—ã–±–æ—Ä
  document.querySelectorAll('.region').forEach(r => r.classList.remove('active'));

  // –í—ã–¥–µ–ª—è–µ–º –Ω–æ–≤—ã–π
  const region = document.querySelector(`[data-mun-id="${munId}"]`);
  if (region) {
    region.classList.add('active');
  }

  currentMunId = munId;

  // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
  await loadMunicipalityData(munId, munName);
}

// ========================================
// LOAD DATA
// ========================================

async function loadMunicipalityData(munId, munName) {
  const panel = document.getElementById('info-panel');
  panel.innerHTML = '<div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>';

  try {
    const currentYear = new Date().getFullYear();

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ì–ò–ë–î–î
    const gibddResponse = await fetch(`/api/gibdd/heatmap?year=${currentYear}`);
    const gibddData = await gibddResponse.json();

    const munGibdd = gibddData.find(d => d.municipality_id === munId);

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —É—Å–ª—É–≥
    const servicesResponse = await fetch(`/api/services-dashboard/data?year=${currentYear}&municipality_id=${munId}`);
    const servicesData = await servicesResponse.json();

    // –†–µ–Ω–¥–µ—Ä–∏–º –ø–∞–Ω–µ–ª—å
    renderMunicipalityPanel(munName, munGibdd, servicesData);

  } catch (error) {
    console.error('Error loading data:', error);
    panel.innerHTML = `
      <div class="info-empty">
        <div class="info-empty-icon">‚ö†Ô∏è</div>
        <p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</p>
      </div>
    `;
  }
}

// ========================================
// RENDER PANEL
// ========================================

function renderMunicipalityPanel(name, gibddData, servicesData) {
  const panel = document.getElementById('info-panel');

  const totalDTP = gibddData ? gibddData.total : 0;
  const totalServices = servicesData.kpi ? servicesData.kpi.total_services : 0;

  panel.innerHTML = `
    <h2>${name}</h2>

    <div class="stat-card">
      <div class="stat-label">üöó –î–¢–ü –∑–∞ ${new Date().getFullYear()} –≥–æ–¥</div>
      <div class="stat-value">${totalDTP.toLocaleString()}</div>
      ${servicesData.kpi && servicesData.kpi.change_percent ? `
        <div class="stat-change ${parseFloat(servicesData.kpi.change_percent) < 0 ? 'positive' : 'negative'}">
          ${parseFloat(servicesData.kpi.change_percent) > 0 ? '‚Üë' : '‚Üì'} ${Math.abs(servicesData.kpi.change_percent)}%
        </div>
      ` : ''}
    </div>

    <div class="stat-card">
      <div class="stat-label">üìä –£—Å–ª—É–≥ –æ–∫–∞–∑–∞–Ω–æ</div>
      <div class="stat-value">${totalServices.toLocaleString()}</div>
      ${servicesData.kpi && servicesData.kpi.change_percent ? `
        <div class="stat-change ${parseFloat(servicesData.kpi.change_percent) > 0 ? 'positive' : 'negative'}">
          ${parseFloat(servicesData.kpi.change_percent) > 0 ? '‚Üë' : '‚Üì'} ${Math.abs(servicesData.kpi.change_percent)}%
        </div>
      ` : ''}
    </div>

    <div style="margin-top: 24px;">
      <a href="/dashboard?municipality_id=${currentMunId}" class="btn" style="width: 100%; text-align: center;">
        –ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á—ë—Ç ‚Üí
      </a>
    </div>

    <div style="margin-top: 16px; padding: 12px; background: var(--bg-tertiary); border-radius: 8px; font-size: 12px; color: var(--text-secondary);">
      <p style="margin: 0;">üí° <strong>–°–æ–≤–µ—Ç:</strong> –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –¥—Ä—É–≥–æ–π –º—É–Ω–∏—Ü–∏–ø–∞–ª–∏—Ç–µ—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π</p>
    </div>
  `;
}

// ========================================
// INIT
// ========================================

document.addEventListener('DOMContentLoaded', () => {
  initMap();

  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ–º –õ–∏–ø–µ—Ü–∫
  setTimeout(() => {
    selectMunicipality(1, '–≥. –õ–∏–ø–µ—Ü–∫');
  }, 500);
});
</script>

</body>
</html>
