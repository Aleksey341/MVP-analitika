<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ - –õ–∏–ø–µ—Ü–∫–∞—è –æ–±–ª–∞—Å—Ç—å</title>
  <link rel="stylesheet" href="/no-badge.css" />
  <style>
    :root {
      --bg-primary: #0f1115;
      --bg-secondary: #1a1d24;
      --bg-tertiary: #232a36;
      --border: #2b3444;
      --text-primary: #e8eef7;
      --text-secondary: #9fb0c9;
      --text-muted: #6a7789;
      --accent-blue: #2563eb;
      --success: #10b981;
      --danger: #ef4444;
      --warning: #f59e0b;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
    }

    header {
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--border);
      padding: 20px;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-content {
      max-width: 1600px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 16px;
    }

    h1 { margin: 0; font-size: 24px; }
    .subtitle { color: var(--text-secondary); font-size: 14px; margin: 4px 0 0 0; }

    main {
      max-width: 1600px;
      margin: 0 auto;
      padding: 24px;
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 24px;
    }

    @media (max-width: 1024px) {
      main {
        grid-template-columns: 1fr;
      }
    }

    .map-container {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
    }

    .map-wrapper {
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
    }

    svg {
      width: 100%;
      height: auto;
      display: block;
    }

    .region {
      fill: var(--bg-tertiary);
      stroke: var(--border);
      stroke-width: 2;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .region:hover {
      fill: rgba(37, 99, 235, 0.3);
      stroke: var(--accent-blue);
      stroke-width: 3;
    }

    .region.active {
      fill: rgba(16, 185, 129, 0.4);
      stroke: var(--success);
      stroke-width: 4;
    }

    .region-label {
      fill: var(--text-primary);
      font-size: 12px;
      pointer-events: none;
      text-anchor: middle;
      user-select: none;
    }

    .info-panel {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      position: sticky;
      top: 100px;
      max-height: calc(100vh - 120px);
      overflow-y: auto;
    }

    .info-panel h2 {
      margin: 0 0 16px 0;
      font-size: 20px;
      color: var(--text-primary);
    }

    .info-empty {
      text-align: center;
      color: var(--text-muted);
      padding: 40px 20px;
    }

    .info-empty-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .stat-card {
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 12px;
    }

    .stat-label {
      font-size: 12px;
      color: var(--text-secondary);
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    .stat-value {
      font-size: 28px;
      font-weight: 700;
      color: var(--text-primary);
    }

    .stat-change {
      font-size: 14px;
      font-weight: 600;
      margin-top: 4px;
    }

    .stat-change.positive { color: var(--success); }
    .stat-change.negative { color: var(--danger); }

    .btn {
      padding: 10px 20px;
      background: var(--accent-blue);
      border: none;
      border-radius: 8px;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
    }

    .btn:hover {
      background: #1d4ed8;
    }

    .loading {
      text-align: center;
      padding: 40px;
      color: var(--text-muted);
    }

    .instructions {
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 16px;
      font-size: 13px;
      color: var(--text-secondary);
    }
  </style>
</head>
<body>

<header>
  <div class="header-content">
    <div>
      <h1>üó∫Ô∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –õ–∏–ø–µ—Ü–∫–æ–π –æ–±–ª–∞—Å—Ç–∏</h1>
      <p class="subtitle">–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ä–∞–π–æ–Ω –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</p>
    </div>
    <a href="/dashboard" class="btn">‚Üê –ö –¥–∞—à–±–æ—Ä–¥—É</a>
  </div>
</header>

<main>
  <div class="map-container">
    <div class="instructions">
      üí° <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong> –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π —Ä–∞–π–æ–Ω –Ω–∞ –∫–∞—Ä—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –î–¢–ü –∏ —É—Å–ª—É–≥–∞–º.
    </div>

    <div class="map-wrapper">
      <svg viewBox="0 0 1000 1000" id="map-svg">
        <!-- –°–µ–≤–µ—Ä -->
        <!-- –£—Å–º–∞–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (—Å–µ–≤–µ—Ä–æ-–∑–∞–ø–∞–¥) -->
        <path class="region" data-mun-id="17" data-mun-name="–£—Å–º–∞–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 50,200 L 150,150 L 220,170 L 250,230 L 200,320 L 120,350 L 80,280 Z" />
        <text class="region-label" x="150" y="250">–£—Å–º–∞–Ω—Å–∫–∏–π</text>

        <!-- –î–∞–Ω–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (—Å–µ–≤–µ—Ä) -->
        <path class="region" data-mun-id="4" data-mun-name="–î–∞–Ω–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 250,100 L 380,80 L 450,120 L 430,200 L 380,250 L 250,230 L 220,170 Z" />
        <text class="region-label" x="340" y="170">–î–∞–Ω–∫–æ–≤—Å–∫–∏–π</text>

        <!-- –õ–µ–±–µ–¥—è–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (—Å–µ–≤–µ—Ä-—Ü–µ–Ω—Ç—Ä) -->
        <path class="region" data-mun-id="12" data-mun-name="–õ–µ–±–µ–¥—è–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 220,170 L 250,230 L 200,320 L 240,380 L 320,400 L 380,350 L 380,250 Z" />
        <text class="region-label" x="280" y="300">–õ–µ–±–µ–¥—è–Ω—Å–∫–∏–π</text>

        <!-- –¢–µ—Ä–±—É–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω -->
        <path class="region" data-mun-id="16" data-mun-name="–¢–µ—Ä–±—É–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 430,200 L 520,180 L 600,220 L 580,320 L 520,380 L 450,360 L 380,350 L 380,250 Z" />
        <text class="region-label" x="490" y="280">–¢–µ—Ä–±—É–Ω—Å–∫–∏–π</text>

        <!-- –ß–∞–ø–ª—ã–≥–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (—Å–µ–≤–µ—Ä–æ-–≤–æ—Å—Ç–æ–∫) -->
        <path class="region" data-mun-id="20" data-mun-name="–ß–∞–ø–ª—ã–≥–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 520,80 L 650,100 L 680,150 L 650,220 L 600,220 L 520,180 L 450,120 Z" />
        <text class="region-label" x="580" y="160">–ß–∞–ø–ª—ã–≥–∏–Ω—Å–∫–∏–π</text>

        <!-- –õ–µ–≤-–¢–æ–ª—Å—Ç–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (–≤–æ—Å—Ç–æ–∫) -->
        <path class="region" data-mun-id="13" data-mun-name="–õ–µ–≤-–¢–æ–ª—Å—Ç–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 650,220 L 750,250 L 780,320 L 750,400 L 680,420 L 620,400 L 580,320 L 600,220 Z" />
        <text class="region-label" x="680" y="320">–õ–µ–≤-–¢–æ–ª—Å—Ç–æ–≤—Å–∫–∏–π</text>

        <!-- –¶–µ–Ω—Ç—Ä -->
        <!-- –î–æ–±—Ä–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (–∑–∞–ø–∞–¥-—Ü–µ–Ω—Ç—Ä) -->
        <path class="region" data-mun-id="5" data-mun-name="–î–æ–±—Ä–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 80,350 L 120,420 L 180,500 L 240,520 L 320,480 L 320,400 L 240,380 L 200,320 Z" />
        <text class="region-label" x="210" y="430">–î–æ–±—Ä–∏–Ω—Å–∫–∏–π</text>

        <!-- –õ–∏–ø–µ—Ü–∫–∏–π —Ä–∞–π–æ–Ω + –≥. –õ–∏–ø–µ—Ü–∫ (—Ü–µ–Ω—Ç—Ä) -->
        <path class="region" data-mun-id="14" data-mun-name="–õ–∏–ø–µ—Ü–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 320,400 L 380,350 L 450,360 L 520,380 L 520,480 L 460,520 L 380,520 L 320,480 Z" />
        <text class="region-label" x="420" y="440">–õ–∏–ø–µ—Ü–∫–∏–π</text>

        <!-- –≥. –õ–∏–ø–µ—Ü–∫ (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞) -->
        <circle class="region" data-mun-id="1" data-mun-name="–≥. –õ–∏–ø–µ—Ü–∫"
          cx="420" cy="460" r="30" />
        <text class="region-label" x="420" y="465" style="font-weight: bold;">–õ–∏–ø–µ—Ü–∫</text>

        <!-- –ó–∞–¥–æ–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω -->
        <path class="region" data-mun-id="9" data-mun-name="–ó–∞–¥–æ–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 520,380 L 580,320 L 620,400 L 620,500 L 560,540 L 520,480 Z" />
        <text class="region-label" x="570" y="450">–ó–∞–¥–æ–Ω—Å–∫–∏–π</text>

        <!-- –î–æ–±—Ä–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (–≤–æ—Å—Ç–æ–∫-—Ü–µ–Ω—Ç—Ä) -->
        <path class="region" data-mun-id="6" data-mun-name="–î–æ–±—Ä–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 620,400 L 680,420 L 720,480 L 720,560 L 660,600 L 620,560 L 620,500 Z" />
        <text class="region-label" x="670" y="500">–î–æ–±—Ä–æ–≤—Å–∫–∏–π</text>

        <!-- –°—Ç–∞–Ω–æ–≤–ª—è–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (–¥–∞–ª—å–Ω–∏–π –≤–æ—Å—Ç–æ–∫) -->
        <path class="region" data-mun-id="15" data-mun-name="–°—Ç–∞–Ω–æ–≤–ª—è–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 720,480 L 800,500 L 850,560 L 850,650 L 780,680 L 720,660 L 720,560 Z" />
        <text class="region-label" x="780" y="580">–°—Ç–∞–Ω–æ–≤–ª—è–Ω—Å–∫–∏–π</text>

        <!-- –Æ–≥ -->
        <!-- –ì—Ä—è–∑–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (—Ü–µ–Ω—Ç—Ä-—é–≥) -->
        <path class="region" data-mun-id="3" data-mun-name="–ì—Ä—è–∑–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 320,480 L 380,520 L 460,520 L 480,600 L 420,660 L 340,660 L 280,620 L 240,560 L 240,520 Z" />
        <text class="region-label" x="360" y="580">–ì—Ä—è–∑–∏–Ω—Å–∫–∏–π</text>

        <!-- –ö—Ä–∞—Å–Ω–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (–∑–∞–ø–∞–¥-—é–≥) -->
        <path class="region" data-mun-id="11" data-mun-name="–ö—Ä–∞—Å–Ω–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 180,560 L 240,560 L 280,620 L 280,700 L 220,760 L 140,740 L 100,680 L 120,600 Z" />
        <text class="region-label" x="200" y="660">–ö—Ä–∞—Å–Ω–∏–Ω—Å–∫–∏–π</text>

        <!-- –í–æ–ª–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (—é–≥–æ-–∑–∞–ø–∞–¥) -->
        <path class="region" data-mun-id="19" data-mun-name="–í–æ–ª–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 100,680 L 140,740 L 160,820 L 120,880 L 50,900 L 30,840 L 50,760 Z" />
        <text class="region-label" x="90" y="800">–í–æ–ª–æ–≤—Å–∫–∏–π</text>

        <!-- –•–ª–µ–≤–µ–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω (—Ü–µ–Ω—Ç—Ä-—é–≥) -->
        <path class="region" data-mun-id="18" data-mun-name="–•–ª–µ–≤–µ–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 460,520 L 520,480 L 560,540 L 580,620 L 540,700 L 480,720 L 420,660 L 480,600 Z" />
        <text class="region-label" x="500" y="620">–•–ª–µ–≤–µ–Ω—Å–∫–∏–π</text>

        <!-- –ï–ª–µ—Ü–∫–∏–π —Ä–∞–π–æ–Ω + –≥. –ï–ª–µ—Ü (—é–≥–æ-–≤–æ—Å—Ç–æ–∫) -->
        <path class="region" data-mun-id="8" data-mun-name="–ï–ª–µ—Ü–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 480,720 L 540,700 L 580,720 L 620,780 L 600,860 L 520,900 L 440,880 L 400,820 L 420,760 Z" />
        <text class="region-label" x="520" y="800">–ï–ª–µ—Ü–∫–∏–π</text>

        <!-- –≥. –ï–ª–µ—Ü (—é–∂–Ω–∞—è —Ç–æ—á–∫–∞) -->
        <circle class="region" data-mun-id="2" data-mun-name="–≥. –ï–ª–µ—Ü"
          cx="520" cy="820" r="30" />
        <text class="region-label" x="520" y="825" style="font-weight: bold;">–ï–ª–µ—Ü</text>

        <!-- –î–æ–ª–≥–æ—Ä—É–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (–≤–æ—Å—Ç–æ–∫-—é–≥) -->
        <path class="region" data-mun-id="7" data-mun-name="–î–æ–ª–≥–æ—Ä—É–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 620,560 L 660,600 L 720,660 L 720,760 L 680,840 L 620,860 L 580,820 L 580,720 L 620,660 Z" />
        <text class="region-label" x="660" y="720">–î–æ–ª–≥–æ—Ä—É–∫–æ–≤—Å–∫–∏–π</text>

        <!-- –ò–∑–º–∞–ª–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω (—é–≥–æ-–≤–æ—Å—Ç–æ–∫) -->
        <path class="region" data-mun-id="10" data-mun-name="–ò–∑–º–∞–ª–∫–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω"
          d="M 620,860 L 680,840 L 750,880 L 780,940 L 720,970 L 640,960 L 600,920 L 600,860 Z" />
        <text class="region-label" x="680" y="910">–ò–∑–º–∞–ª–∫–æ–≤—Å–∫–∏–π</text>
      </svg>
    </div>
  </div>

  <div class="info-panel" id="info-panel">
    <div class="info-empty">
      <div class="info-empty-icon">üó∫Ô∏è</div>
      <p>–í—ã–±–µ—Ä–∏—Ç–µ –º—É–Ω–∏—Ü–∏–ø–∞–ª–∏—Ç–µ—Ç –Ω–∞ –∫–∞—Ä—Ç–µ<br>–¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</p>
    </div>
  </div>
</main>

<script>
// ========================================
// SELECT MUNICIPALITY
// ========================================

let currentMunId = null;

function selectMunicipality(munId, munName) {
  // –£–±–∏—Ä–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –≤—ã–±–æ—Ä
  document.querySelectorAll('.region').forEach(r => r.classList.remove('active'));

  // –í—ã–¥–µ–ª—è–µ–º –Ω–æ–≤—ã–π
  const regions = document.querySelectorAll(`[data-mun-id="${munId}"]`);
  regions.forEach(region => {
    region.classList.add('active');
  });

  currentMunId = munId;

  // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
  loadMunicipalityData(munId, munName);
}

// ========================================
// LOAD DATA
// ========================================

async function loadMunicipalityData(munId, munName) {
  const panel = document.getElementById('info-panel');
  panel.innerHTML = '<div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>';

  try {
    const currentYear = new Date().getFullYear();

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ì–ò–ë–î–î
    const gibddResponse = await fetch(`/api/gibdd/heatmap?year=${currentYear}`);
    const gibddData = await gibddResponse.json();

    const munGibdd = gibddData.find(d => d.municipality_id === munId);

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —É—Å–ª—É–≥
    const servicesResponse = await fetch(`/api/services-dashboard/data?year=${currentYear}&municipality_id=${munId}`);
    const servicesData = await servicesResponse.json();

    // –†–µ–Ω–¥–µ—Ä–∏–º –ø–∞–Ω–µ–ª—å
    renderMunicipalityPanel(munName, munGibdd, servicesData);

  } catch (error) {
    console.error('Error loading data:', error);
    panel.innerHTML = `
      <div class="info-empty">
        <div class="info-empty-icon">‚ö†Ô∏è</div>
        <p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</p>
      </div>
    `;
  }
}

// ========================================
// RENDER PANEL
// ========================================

function renderMunicipalityPanel(name, gibddData, servicesData) {
  const panel = document.getElementById('info-panel');

  const totalDTP = gibddData ? gibddData.total : 0;
  const totalServices = servicesData.kpi ? servicesData.kpi.total_services : 0;

  panel.innerHTML = `
    <h2>${name}</h2>

    <div class="stat-card">
      <div class="stat-label">üöó –î–¢–ü –∑–∞ ${new Date().getFullYear()} –≥–æ–¥</div>
      <div class="stat-value">${totalDTP.toLocaleString()}</div>
      ${servicesData.kpi && servicesData.kpi.change_percent ? `
        <div class="stat-change ${parseFloat(servicesData.kpi.change_percent) < 0 ? 'positive' : 'negative'}">
          ${parseFloat(servicesData.kpi.change_percent) > 0 ? '‚Üë' : '‚Üì'} ${Math.abs(servicesData.kpi.change_percent)}%
        </div>
      ` : ''}
    </div>

    <div class="stat-card">
      <div class="stat-label">üìä –£—Å–ª—É–≥ –æ–∫–∞–∑–∞–Ω–æ</div>
      <div class="stat-value">${totalServices.toLocaleString()}</div>
      ${servicesData.kpi && servicesData.kpi.change_percent ? `
        <div class="stat-change ${parseFloat(servicesData.kpi.change_percent) > 0 ? 'positive' : 'negative'}">
          ${parseFloat(servicesData.kpi.change_percent) > 0 ? '‚Üë' : '‚Üì'} ${Math.abs(servicesData.kpi.change_percent)}%
        </div>
      ` : ''}
    </div>

    <div style="margin-top: 24px;">
      <a href="/dashboard?municipality_id=${currentMunId}" class="btn" style="width: 100%; text-align: center;">
        üìà –ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á—ë—Ç ‚Üí
      </a>
    </div>

    <div style="margin-top: 16px; padding: 12px; background: var(--bg-tertiary); border-radius: 8px; font-size: 12px; color: var(--text-secondary);">
      <p style="margin: 0;">üí° <strong>–°–æ–≤–µ—Ç:</strong> –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –¥—Ä—É–≥–æ–π —Ä–µ–≥–∏–æ–Ω –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π</p>
    </div>
  `;
}

// ========================================
// INIT
// ========================================

document.addEventListener('DOMContentLoaded', () => {
  // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∏–∫–æ–≤ –Ω–∞ –≤—Å–µ —Ä–µ–≥–∏–æ–Ω—ã
  document.querySelectorAll('.region').forEach(region => {
    region.addEventListener('click', () => {
      const munId = parseInt(region.dataset.munId);
      const munName = region.dataset.munName;
      selectMunicipality(munId, munName);
    });
  });

  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ–º –õ–∏–ø–µ—Ü–∫ —á–µ—Ä–µ–∑ 500–º—Å
  setTimeout(() => {
    selectMunicipality(1, '–≥. –õ–∏–ø–µ—Ü–∫');
  }, 500);
});
</script>

</body>
</html>
